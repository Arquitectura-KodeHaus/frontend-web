<div class="auth-container">
 
  <h1 class="app-title">Mercado Plaza</h1>
  <p class="app-subtitle">Conectando comerciantes y consumidores</p>


  <div class="auth-card">
    <h2 *ngIf="!isRegisterMode">Iniciar Sesión</h2>
    <h2 *ngIf="isRegisterMode">Crear Cuenta</h2>

    <p class="subtitle">
      Únete a nuestra comunidad de comerciantes y consumidores
    </p>

    
    <div class="role-selector">
      <button [class.active]="role === 'consumidor'" (click)="role = 'consumidor'">👤 Consumidor</button>
      <button [class.active]="role === 'comerciante'" (click)="role = 'comerciante'">🏪 Comerciante</button>
    </div>


    <form *ngIf="!isRegisterMode" (ngSubmit)="onSubmit()">
      <input type="email" placeholder="Correo Electrónico" [(ngModel)]="email" name="email" required />
      <input type="password" placeholder="Contraseña" [(ngModel)]="password" name="password" required />
      <button type="submit" class="submit-btn">Iniciar Sesión</button>
    </form>

    <form *ngIf="isRegisterMode && role === 'consumidor'" (ngSubmit)="onSubmit()">
      <input type="email" placeholder="Correo Electrónico" [(ngModel)]="email" name="email" required />
      <input type="password" placeholder="Contraseña" [(ngModel)]="password" name="password" required />
      <input type="text" placeholder="Nombre Completo" [(ngModel)]="name" name="name" required />
      <input type="tel" placeholder="Teléfono" [(ngModel)]="phone" name="phone" />
      <button type="submit" class="submit-btn">Crear Cuenta</button>
    </form>


    <form *ngIf="isRegisterMode && role === 'comerciante'" (ngSubmit)="onSubmit()">
      <input type="email" placeholder="Correo Electrónico" [(ngModel)]="email" name="email" required />
      <input type="password" placeholder="Contraseña" [(ngModel)]="password" name="password" required />
      <input type="text" placeholder="Nombre Completo" [(ngModel)]="name" name="name" required />
      <input type="tel" placeholder="Teléfono" [(ngModel)]="phone" name="phone" />
      <input type="text" placeholder="Número de Puesto" [(ngModel)]="stallNumber" name="stallNumber" />
      <input type="text" placeholder="Ubicación del Mercado" [(ngModel)]="marketLocation" name="marketLocation" />
      <button type="submit" class="submit-btn">Crear Cuenta</button>
    </form>

    <p *ngIf="!isRegisterMode" class="switch">
      ¿No tienes cuenta? <a (click)="toggleMode()">Regístrate aquí</a>
    </p>
    <p *ngIf="isRegisterMode" class="switch">
      ¿Ya tienes cuenta? <a (click)="toggleMode()">Inicia sesión</a>
    </p>


    <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
  </div>
</div>
